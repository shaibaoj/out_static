var vmToolEx=new Vue({el:"#vmToolEx",data:{dataUrL:{isAddL:"",UrlAdd:"",couponAdd:"",closeAdd:"",taoword:"",pid:"",relationId:""},shopUrl:Request("shopUrl")?Request("shopUrl"):""},mounted:function(){this.shopUrl&&(this.dataUrL.isAddL=decodeURIComponent(decodeURIComponent(this.shopUrl)))},methods:{clear:function(){this.dataUrL.isAddL="",this.dataUrL.UrlAdd="",this.dataUrL.couponAdd="",this.dataUrL.closeAdd="",this.dataUrL.pid="",this.dataUrL.relationId="",this.dataUrL.taoword&&(this.dataUrL.taoword=""),layer.msg("已清空",{time:1500,shade:.1,shadeClose:!0})},isOpend:function(number){switch(number){case 0:this.dataUrL.UrlAdd?pageAll(this.dataUrL.UrlAdd):layer.msg("地址为空",{icon:2,time:1500,shade:.1,shadeClose:!0});break;case 1:this.dataUrL.couponAdd?pageAll(this.dataUrL.couponAdd):layer.msg("地址为空",{icon:2,time:1500,shade:.1,shadeClose:!0});break;case 2:this.dataUrL.closeAdd?pageAll(this.dataUrL.closeAdd):layer.msg("地址为空",{icon:2,time:1500,shade:.1,shadeClose:!0})}},copy:function(classA,classB,number){var clipboard=new Clipboard("."+classA,{target:function(){return document.querySelector("."+classB)}});clipboard.on("success",function(e){""!=e.text?(layer.msg("复制成功",{icon:1,time:1500,shade:.1,shadeClose:!0}),setTimeout(function(){e.trigger.disabled=!1},2e3),clipboard.destroy()):layer.msg("请先解析淘口令",{icon:2,time:1500,shade:.1,shadeClose:!0})}),clipboard.on("error",function(){layer.msg("复制失败，请手动复制",{icon:2,time:1500,shade:.1,shadeClose:!0}),clipboard.destroy()})},Tbtn:function(number){var self=this;self.dataUrL.isAddL?(layer.load(2),ajaxPost("/api/user/tools/tools/token",{content:self.dataUrL.isAddL,analysis_taoword_type:number},function(data){layer.closeAll(),0==data.info.status?(layer.msg(data.info.status_err,{icon:1,time:1500,shade:.1,shadeClose:!0}),self.dataUrL.UrlAdd=data.data.itemid_url,self.dataUrL.couponAdd=data.data.couponurl,self.dataUrL.closeAdd=data.data.token.url,self.dataUrL.taoword=data.data.taoword,self.dataUrL.pid=data.data.pid,self.dataUrL.relationId=data.data.relationId):100==data.status?loginJump(self.dataUrL.isAddL):layer.msg(data.info.status_err,{icon:2,time:1500,shade:.1,shadeClose:!0})},function(){layer.closeAll(),layer.msg("网络错误",{icon:5,time:1500,shade:.1,shadeClose:!0})})):layer.msg("淘口令不能为空",{icon:2,time:1500,shade:.1,shadeClose:!0})}}});